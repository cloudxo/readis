<div id="chart_div" style="width: 100%; height: 500px; background-color: #808080;"></div>
<button class="btn btn-default" id="b1">Add</button>

<script type="text/javascript">
    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawVisualization);

    function drawVisualization() {
        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        var lastTimePoint = 0;
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Time');
        data.addColumn('number', 'Clients');

        var options = {
            width: '100%',
            height: 500,
            vAxis: {minValue: 0, maxValue: 50},
            hAxis: {viewWindow: {min: 0, max: 10}},
            animation: {
                duration: 500,
                easing: 'in'
            }
        };

        var button = document.getElementById('b1');

        function drawChart() {
            // Disabling the button while the chart is drawing.
            button.disabled = true;
            google.visualization.events.addListener(chart, 'ready',
                function () {
                    button.disabled = false;
                });
            chart.draw(data, options);
        }

        button.onclick = function () {
            lastTimePoint += 0.5;
            data.addRow([lastTimePoint.toString(), Math.round(Math.random() * 10)]);
            if (data.getNumberOfRows() > 10) {
                options.hAxis.viewWindow.min += 1;
                options.hAxis.viewWindow.max += 1;
            }
            drawChart();
        };

        drawChart();
    }
</script>
